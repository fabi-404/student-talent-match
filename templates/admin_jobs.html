{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h1>Job Management</h1>

    <div class="card">
        <h2>Create New Job</h2>
        <form method="POST" action="{{ url_for('admin_jobs') }}">
            <div class="form-group">
                <label for="title">Job Title</label>
                <input type="text" id="title" name="title" required placeholder="e.g. Junior Python Developer">
            </div>
            <div class="form-group">
                <label for="description">Description</label>
                <textarea id="description" name="description" rows="4" required
                    placeholder="Job description..."></textarea>
            </div>
            <div class="form-group">
                <label for="required_skills">Required Skills (comma-separated)</label>
                <textarea id="required_skills" name="required_skills" rows="2" required
                    placeholder="Python, Flask, SQL"></textarea>
            </div>
            <button type="submit" class="btn">Create Job</button>
        </form>
    </div>

    <h2>Existing Jobs</h2>
    {% for job in jobs %}
    <div class="card">
        <h3>{{ job.title }}</h3>
        <p>{{ job.description }}</p>
        <p><strong>Required Skills:</strong> {{ ', '.join(job.get_required_skills()) }}</p>
    </div>
    {% else %}
    <p>No jobs created yet.</p>
    {% endfor %}
</div>
{% endblock %}